appId: dev.slimevr.SlimeVR
productName: SlimeVR
# These help fill the missing metadata requirements
directories:
  output: dist/artifacts

# Optimize Electron bundle size
asar: true

# Only include English Chromium locale (saves ~44MB)
electronLanguages:
  - en-US

# The 'files' key determines what goes INSIDE the app.asar
files:
  - out/**/*
  - index.html
  - package.json
  - node_modules/**
  # Exclude unnecessary files from node_modules to reduce size
  - "!node_modules/*/{README,readme,README.md,readme.md,CHANGELOG,CHANGELOG.md,changelog.md}"
  - "!node_modules/*/{test,tests,__tests__,docs,doc,example,examples}"
  - "!node_modules/*/.{git,github,vscode,editorconfig,eslintrc,prettierrc}"
  - "!node_modules/**/*.{map,ts,tsx,d.ts}"
  - "!**/.DS_Store"

# Include the JAR next to the EXE
extraFiles:
  - from: "../../server/desktop/build/libs/slimevr.jar"
    to: "."
  - from: "./69-slimevr-devices.rules"
    to: "."

linux:
  category: Game
  target:
    - target: AppImage
    - target: deb
    - target: rpm

# Target-specific dependencies (Fixes the 'unknown property' error)
deb:
  depends:
    - openjdk-17-jre-headless
    - udev
rpm:
  depends:
    - java-latest-openjdk
    - udev

# If you ever build for Windows/Mac later
win:
  target: portable
mac:
  target: dmg
